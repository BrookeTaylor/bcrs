"use strict";(self.webpackChunkbcrs=self.webpackChunkbcrs||[]).push([[704],{6704:(L,p,c)=>{c.r(p),c.d(p,{ShopModule:()=>k});var u=c(6814),m=c(9310);class v{constructor(){this.email="",this.fullName="",this.lineItems=[],this.lineItemTotal=0,this.partsAmount=0,this.laborAmount=0,this.invoiceTotal=0,this.id=Math.floor(9e4*Math.random())+1e4,this.date=(new Date).toLocaleDateString()}itemsTotal(){let i=0;for(const t of this.lineItems)i+=t.price;this.lineItemTotal=parseFloat(i.toFixed(2))}getOrderTotal(){let i=0;for(let t of this.lineItems)i+=t.price;return console.log("Menu Items Total: ",i),i+=parseFloat(this.partsAmount.toString()),i+=parseFloat(this.laborAmount.toString()),console.log("Total after parts and labor: ",i),i.toFixed(2)}}var s=c(95),e=c(4946);let _=(()=>{var r;class i{constructor(){this.products=[{id:100,title:"Password Reset",price:39.99,imgUrl:"../../../assets/service/passwordReset.png",desc:"Locked out of your account? It happens to us all.",checked:!1},{id:101,title:"Spyware Removal",price:99.99,imgUrl:"../../../assets/service/spywareRemoval.png",desc:"Has your computer been running slow? Afraid you've been hacked?",checked:!1},{id:102,title:"RAM Upgrade",price:129.99,imgUrl:"../../../assets/service/ramUpgrade.png",desc:"One simple price for RAM upgrade. You can't beat that.",checked:!1},{id:103,title:"Software Installation",price:49.99,imgUrl:"../../../assets/service/softwareInstall.png",desc:"Have us professionally install your software for you.",checked:!1},{id:104,title:"PC Tune-up",price:89.99,imgUrl:"../../../assets/service/pcTuneUp.png",desc:"Expect more of your PC? Let us optimize your machines performance.",checked:!1},{id:105,title:"Keyboard Cleaning",price:45,imgUrl:"../../../assets/service/keyboardCleaning.png",desc:"You've probably long forgotten what it felt like to type on your new PC. Let us revitalize that experience with a cleaning.",checked:!1},{id:106,title:"Disk Clean-up",price:129.99,imgUrl:"../../../assets/service/diskCleanUp.png",desc:"Free up space on your computer's hard drive to do more of the things you want.",checked:!1}]}getProducts(){return this.products}}return(r=i).\u0275fac=function(n){return new(n||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),i})();var g=c(9862),h=c(459);function Z(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",5)(1,"div",6)(2,"div",7)(3,"fieldset",8)(4,"legend"),e._uU(5),e.qZA(),e.TgZ(6,"div",9)(7,"input",29),e.NdJ("ngModelChange",function(o){const l=e.CHM(t).$implicit;return e.KtG(l.checked=o)}),e.qZA(),e.TgZ(8,"label",30),e._uU(9),e.ALo(10,"currency"),e.qZA(),e._UZ(11,"br"),e.qZA()()(),e.TgZ(12,"figure"),e._UZ(13,"img",31),e.qZA(),e.TgZ(14,"div",12),e._uU(15),e.qZA()()()}if(2&r){const t=i.$implicit;e.xp6(5),e.Oqu(t.title),e.xp6(2),e.Q6J("value",t.price)("ngModel",t.checked)("name",t.title),e.xp6(2),e.Oqu(e.xi3(10,8,t.price,"USD")),e.xp6(4),e.MGl("alt","",t.title," Icon"),e.Q6J("src",t.imgUrl,e.LSH),e.xp6(2),e.Oqu(t.desc)}}function b(r,i){if(1&r&&(e.TgZ(0,"div",32),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.hij(" ",t.errorMessage," ")}}function T(r,i){1&r&&(e.TgZ(0,"div")(1,"div",33),e._uU(2," A name is required. "),e._UZ(3,"input",34),e.qZA()())}function A(r,i){1&r&&(e.TgZ(0,"div")(1,"div",33),e._uU(2," Email is required. "),e._UZ(3,"input",34),e.qZA()())}function C(r,i){1&r&&(e.TgZ(0,"div")(1,"div",33),e._uU(2," Please enter a valid email address. "),e._UZ(3,"input",34),e.qZA()())}function y(r,i){1&r&&(e.TgZ(0,"span",35),e._uU(1,"Submit"),e.qZA())}function x(r,i){1&r&&(e.TgZ(0,"div"),e._UZ(1,"span",36),e._uU(2,"Loading... "),e.qZA())}function q(r,i){1&r&&(e.TgZ(0,"div",6)(1,"div",7)(2,"span",8),e._uU(3,"Loading..."),e.qZA()()())}function U(r,i){if(1&r&&(e.TgZ(0,"div",31)(1,"div",32),e._uU(2),e.qZA(),e.TgZ(3,"div",33),e._uU(4),e.ALo(5,"currency"),e.qZA()()),2&r){const t=i.$implicit;e.xp6(2),e.hij("",t.title,":"),e.xp6(2),e.Oqu(e.lcZ(5,2,t.price))}}function O(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",9)(1,"div",10)(2,"div",11)(3,"h2"),e._uU(4),e.qZA(),e.TgZ(5,"div",12),e._uU(6),e.ALo(7,"date"),e.qZA(),e.TgZ(8,"div",13)(9,"p",14)(10,"span",15),e._uU(11),e.qZA(),e._UZ(12,"br"),e._uU(13),e.qZA()()()(),e.TgZ(14,"div",16),e.YNc(15,U,6,4,"div",17),e.TgZ(16,"div",18)(17,"div",19),e._uU(18,"Parts:"),e.qZA(),e.TgZ(19,"div",20),e._uU(20),e.ALo(21,"currency"),e.qZA()(),e.TgZ(22,"div",21)(23,"div",22),e._uU(24,"Labor:"),e.qZA(),e.TgZ(25,"div",23),e._uU(26),e.ALo(27,"currency"),e.qZA()()(),e.TgZ(28,"div",24)(29,"div",25)(30,"div",26)(31,"p")(32,"span",27),e._uU(33,"Order Total:"),e.qZA(),e.TgZ(34,"span",28),e._uU(35),e.ALo(36,"currency"),e.qZA()()(),e.TgZ(37,"div",26)(38,"button",29),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.printPage())}),e.TgZ(39,"span",30),e._uU(40,"Print Page"),e.qZA()()()()()()}if(2&r){const t=e.oxw();e.xp6(4),e.hij("Order #",t.order.id,""),e.xp6(2),e.Oqu(e.lcZ(7,8,t.order.date)),e.xp6(5),e.Oqu(t.order.fullName),e.xp6(2),e.hij("",t.order.email," "),e.xp6(2),e.Q6J("ngForOf",t.order.lineItems),e.xp6(5),e.Oqu(e.lcZ(21,10,t.order.partsAmount)),e.xp6(6),e.Oqu(e.lcZ(27,12,t.order.laborAmount)),e.xp6(9),e.Oqu(e.lcZ(36,14,t.order.invoiceTotal))}}const w=[{path:"service",component:(()=>{var r;class i{constructor(n,o,a,l,d,F){this.menuService=n,this.router=o,this.httpClient=a,this.cookieService=l,this.route=d,this.formBuilder=F,this.fullName="",this.email="",this.isLoading=!1,this.formSubmitted=!1,this.orderForm=this.formBuilder.group({email:[null,s.kI.compose([s.kI.required,s.kI.email])],fullName:[null,s.kI.compose([s.kI.required])]}),this.lineItems=[],this.lineItemTotal=0,this.partsAmount=0,this.laborAmount=0,this.invoiceTotal=0,this.id=Math.floor(9e4*Math.random())+1e4,this.date=(new Date).toLocaleDateString(),this.products=this.menuService.getProducts(),this.order=new v,console.log("Product Listing: ",this.products);const f=this.cookieService.get("session_user");f&&(this.user=JSON.parse(f),console.log("User:",this.user)),this.errorMessage="",this.orderForm=this.formBuilder.group({email:["",[s.kI.required,s.kI.email]]})}getOrderTotal(){let n=0;for(let o of this.lineItems)n+=o.price;return console.log("Menu Items Total: ",n),n+=parseFloat(this.partsAmount.toString()),n+=parseFloat((50*this.laborAmount).toString()),console.log("Total after parts and labor: ",n),n.toFixed(2)}generateOrder(){this.formSubmitted=!0,console.log("Customer Name:",this.order.fullName),console.log("Customer Email:",this.order.email),console.log("Order",this.order),console.log("Products",this.products),this.isLoading=!0,console.log("id",this.order.id);const n=this.order.id;console.log("id variable",n);for(let o of this.products)if(o.checked){const{title:a,price:l}=o;this.order.lineItems.push({title:a,price:l})}this.order.itemsTotal(),console.log("Ordered Items:",this.order.lineItems),console.log("Ordered Parts:",this.order.partsAmount),console.log("Ordered Labor:",this.order.laborAmount),console.log("Order Total:",this.order.getOrderTotal()),this.order.partsAmount=parseFloat(this.order.partsAmount.toString()),this.order.laborAmount=50*parseFloat(this.order.laborAmount.toString()),this.order.invoiceTotal=parseFloat(this.order.getOrderTotal()),console.log("Order",this.order),console.log("Customer Name:",this.fullName),console.log("Customer Email:",this.email),console.log("Order",this.order),console.log("Products",this.products),this.httpClient.post("/api/invoices",this.order).subscribe({next:o=>{this.isLoading=!1,console.log("result",o),this.router.navigate(["shop/order-summary"],{queryParams:{id:n}})},error:o=>{o.error.message?(console.log("db error: ",o.error.message),this.errorMessage=o.error.message,this.isLoading=!1):(this.errorMessage="Something went wrong",console.log(o),this.isLoading=!1)}})}}return(r=i).\u0275fac=function(n){return new(n||r)(e.Y36(_),e.Y36(m.F0),e.Y36(g.eN),e.Y36(h.N),e.Y36(m.gz),e.Y36(s.qu))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-service"]],decls:59,vars:11,consts:[[1,"container"],[3,"submit"],["orderForm","ngForm"],[1,"row","d-flex","justify-content-center","mt-5"],["class","col-lg-4 col-md-6 col-sm-12",4,"ngFor","ngForOf"],[1,"col-lg-4","col-md-6","col-sm-12"],[1,"card","shadow"],[1,"card-title"],[1,"p-3"],[1,"d-flex","justify-content-around"],["type","text","id","parts","name","parts",3,"ngModel","ngModelChange"],["src","../../../assets/service/parts.png","alt","Parts Icon",1,"img-fluid"],[1,"card-footer"],["type","text","id","labor","name","labor",3,"ngModel","ngModelChange"],["src","../../../assets/service/labor.png","alt","Labor Icon",1,"img-fluid"],[1,"d-grid","mt-5","col-8"],["class","alert alert-danger",4,"ngIf"],[1,"d-grid","col-8"],[1,"m-5"],[1,"row"],[1,"col-md-6"],["for","fullName",1,"form-label"],["type","text","id","fullName","name","fullName","required","",1,"form-control",3,"ngModel","ngModelChange"],[4,"ngIf"],["for","email",1,"form-label"],["type","text","id","email","name","email","required","","email","",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-center"],["type","submit","id","submit","value","Place Order",1,"btn","text-light","brown"],["class","text-hp",4,"ngIf"],["type","checkbox",3,"value","ngModel","name","ngModelChange"],["for","passwordReset"],[1,"img-fluid",3,"src","alt"],[1,"alert","alert-danger"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show","mt-2"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close"],[1,"text-hp"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(n,o){if(1&n){const a=e.EpF();e.TgZ(0,"div",0)(1,"form",1,2),e.NdJ("submit",function(){e.CHM(a);const d=e.MAs(2);return o.generateOrder(),e.KtG(d.reset())}),e.TgZ(3,"div",3),e.YNc(4,Z,16,11,"div",4),e.TgZ(5,"div",5)(6,"div",6)(7,"div",7)(8,"fieldset",8)(9,"legend"),e._uU(10,"Parts"),e.qZA(),e.TgZ(11,"div",9)(12,"input",10),e.NdJ("ngModelChange",function(d){return o.order.partsAmount=d}),e.qZA(),e._UZ(13,"br"),e.qZA()()(),e.TgZ(14,"figure"),e._UZ(15,"img",11),e.qZA(),e.TgZ(16,"div",12),e._uU(17,"Please insert any additional fees associated with parts."),e.qZA()()(),e.TgZ(18,"div",5)(19,"div",6)(20,"div",7)(21,"fieldset",8)(22,"legend"),e._uU(23,"Labor"),e.qZA(),e.TgZ(24,"div",9)(25,"input",13),e.NdJ("ngModelChange",function(d){return o.order.laborAmount=d}),e.qZA(),e._UZ(26,"br"),e.qZA()()(),e.TgZ(27,"figure"),e._UZ(28,"img",14),e.qZA(),e.TgZ(29,"div",12),e._uU(30,"Labor is $50 / Hour. Please insert how many hours needed."),e.qZA()()(),e.TgZ(31,"div",15),e.YNc(32,b,2,1,"div",16),e.qZA(),e.TgZ(33,"div",17)(34,"div",6)(35,"div",7)(36,"fieldset",8)(37,"legend"),e._uU(38,"Customer Information"),e.qZA(),e.TgZ(39,"p"),e._uU(40,"Enter the customer's full name and email address."),e.qZA()()(),e.TgZ(41,"div",18)(42,"div",19)(43,"div",20)(44,"label",21),e._uU(45,"Full Name:"),e.qZA(),e.TgZ(46,"input",22),e.NdJ("ngModelChange",function(d){return o.order.fullName=d}),e.qZA(),e.YNc(47,T,4,0,"div",23),e.qZA(),e.TgZ(48,"div",20)(49,"label",24),e._uU(50,"Email:"),e.qZA(),e.TgZ(51,"input",25),e.NdJ("ngModelChange",function(d){return o.order.email=d}),e.qZA(),e.YNc(52,A,4,0,"div",23),e.YNc(53,C,4,0,"div",23),e.qZA()()(),e.TgZ(54,"div",12)(55,"div",26)(56,"button",27),e.YNc(57,y,2,0,"span",28),e.YNc(58,x,3,0,"div",23),e.qZA()()()()()()()()}if(2&n){const a=e.MAs(2);e.xp6(4),e.Q6J("ngForOf",o.products),e.xp6(8),e.Q6J("ngModel",o.order.partsAmount),e.xp6(13),e.Q6J("ngModel",o.order.laborAmount),e.xp6(7),e.Q6J("ngIf",o.formSubmitted&&o.errorMessage),e.xp6(14),e.Q6J("ngModel",o.order.fullName),e.xp6(1),e.Q6J("ngIf",a.controls.fullName.touched&&a.controls.fullName.hasError("required")),e.xp6(4),e.Q6J("ngModel",o.order.email),e.xp6(1),e.Q6J("ngIf",a.controls.email.touched&&a.controls.email.hasError("required")),e.xp6(1),e.Q6J("ngIf",a.controls.email.touched&&a.controls.email.hasError("email")),e.xp6(4),e.Q6J("ngIf",!o.isLoading),e.xp6(1),e.Q6J("ngIf",o.isLoading)}},dependencies:[u.sg,u.O5,s._Y,s.Fj,s.Wl,s.JJ,s.JL,s.Q7,s.on,s.On,s.F,u.H9],styles:[".card[_ngcontent-%COMP%]{border-radius:15px;margin:.5rem}.card-title[_ngcontent-%COMP%]{background-color:#372e29;border-radius:15px 15px 0 0;color:#fff}.brown[_ngcontent-%COMP%]{background-color:#372e29}.card-footer[_ngcontent-%COMP%]{background-color:#ffd25f;border-radius:0 0 15px 15px}figure[_ngcontent-%COMP%]{text-align:center;min-height:100px;display:flex;justify-content:center;align-items:center}"]}),i})(),canActivate:[c(3706).p]},{path:"order-summary",component:(()=>{var r;class i{constructor(n,o,a,l){this.route=n,this.router=o,this.cookieService=a,this.http=l,this.printing=!1,this.isLoading=!0,this.order={}}ngOnInit(){this.route.queryParams.subscribe(n=>{const o=n.id;o?this.http.get(`/api/invoices/${o}/invoice`).subscribe(a=>{this.order=a,this.isLoading=!1},a=>{console.error("Error fetching invoice:",a),this.isLoading=!1}):(console.error('No "id" parameter provided'),this.isLoading=!1)})}printPage(){this.printing=!0,window.print(),this.printing=!1}}return(r=i).\u0275fac=function(n){return new(n||r)(e.Y36(m.gz),e.Y36(m.F0),e.Y36(h.N),e.Y36(g.eN))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-order-summary"]],decls:7,vars:2,consts:[[1,"container","mt-3"],[1,"row","justify-content-center"],[1,"col-lg-6","col-md-10","col-sm-12"],["class","d-flex justify-content-center mt-5",4,"ngIf"],["class","card",4,"ngIf"],["routerLink","/shop/service",1,"hide-on-print"],[1,"d-flex","justify-content-center","mt-5"],["role","status","aria-hidden","true",1,"spinner-border","spinner-lg",2,"width","3rem","height","3rem"],[1,"sr-only","visually-hidden"],[1,"card"],[1,"card-title"],[1,"m-3"],[1,"order-summary__header-date"],[1,"order-summary__header-user"],[1,"mt-3"],[2,"font-weight","600"],[1,"card-body"],["class","card-item",4,"ngFor","ngForOf"],[1,"card-parts"],[1,"card-parts-label"],[1,"card-parts-value"],[1,"card-labor"],[1,"card-labor-label"],[1,"card-labor-value"],[1,"card-footer"],[1,"row"],[1,"col"],[1,"card-footer-label"],[1,"card-footer-value"],[1,"btn","brown","text-white","hide-on-print",3,"click"],[1,"text-hp"],[1,"card-item"],[1,"card-item-name"],[1,"card-item-price"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,q,4,0,"div",3),e.YNc(4,O,41,16,"div",4),e.TgZ(5,"a",5),e._uU(6,"Place new order"),e.qZA()()()()),2&n&&(e.xp6(3),e.Q6J("ngIf",o.isLoading),e.xp6(1),e.Q6J("ngIf",!o.isLoading))},dependencies:[u.sg,u.O5,m.rH,u.H9,u.uU],styles:[".card[_ngcontent-%COMP%]{margin-top:3em;border-radius:15px}.card-title[_ngcontent-%COMP%]{background-color:#372e29;border-radius:15px 15px 0 0;color:#fff}.brown[_ngcontent-%COMP%]{background-color:#372e29}.card-footer[_ngcontent-%COMP%]{background-color:#ffd25f;border-radius:0 0 15px 15px}","@media print{.hide-on-print[_ngcontent-%COMP%]{display:none}.card[_ngcontent-%COMP%]{box-shadow:none;border:none;background-color:transparent}}"]}),i})(),title:"Order Summary page"}];let N=(()=>{var r;class i{}return(r=i).\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[m.Bz.forChild(w),m.Bz]}),i})(),k=(()=>{var r;class i{}return(r=i).\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[u.ez,m.Bz,N,s.u5,s.UX]}),i})()}}]);