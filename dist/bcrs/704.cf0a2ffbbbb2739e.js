"use strict";(self.webpackChunkbcrs=self.webpackChunkbcrs||[]).push([[704],{6704:(C,g,d)=>{d.r(g),d.d(g,{ShopModule:()=>S});var p=d(6814),u=d(9310);class h{constructor(){this.email="",this.fullName="",this.lineItems=[],this.lineItemTotal=0,this.partsAmount=0,this.laborAmount=0,this.invoiceTotal=0,this.id=Math.floor(9e4*Math.random())+1e4,this.date=(new Date).toLocaleDateString()}itemsTotal(){let o=0;for(const i of this.lineItems)o+=i.price;this.lineItemTotal=parseFloat(o.toFixed(2))}getOrderTotal(){let o=0;for(let i of this.lineItems)o+=i.price;return console.log("Menu Items Total: ",o),o+=parseFloat(this.partsAmount.toString()),o+=parseFloat(this.laborAmount.toString()),console.log("Total after parts and labor: ",o),o.toFixed(2)}}var e=d(4946);let f=(()=>{var r;class o{constructor(){this.products=[{id:100,title:"Password Reset",price:39.99,imgUrl:"../../../assets/service/passwordReset.png",desc:"Locked out of your account? It happens to us all.",checked:!1},{id:101,title:"Spyware Removal",price:99.99,imgUrl:"../../../assets/service/spywareRemoval.png",desc:"Has your computer been running slow? Afraid you've been hacked?",checked:!1},{id:102,title:"RAM Upgrade",price:129.99,imgUrl:"../../../assets/service/ramUpgrade.png",desc:"One simple price for RAM upgrade. You can't beat that.",checked:!1},{id:103,title:"Software Installation",price:49.99,imgUrl:"../../../assets/service/softwareInstall.png",desc:"Have us professionally install your software for you.",checked:!1},{id:104,title:"PC Tune-up",price:89.99,imgUrl:"../../../assets/service/pcTuneUp.png",desc:"Expect more of your PC? Let us optimize your machines performance.",checked:!1},{id:105,title:"Keyboard Cleaning",price:45,imgUrl:"../../../assets/service/keyboardCleaning.png",desc:"You've probably long forgotten what it felt like to type on your new PC. Let us revitalize that experience with a cleaning.",checked:!1},{id:106,title:"Disk Clean-up",price:129.99,imgUrl:"../../../assets/service/diskCleanUp.png",desc:"Free up space on your computer's hard drive to do more of the things you want.",checked:!1}]}getProducts(){return this.products}}return(r=o).\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),o})();var v=d(9862),m=d(459),c=d(95);function Z(r,o){if(1&r){const i=e.EpF();e.TgZ(0,"div",5)(1,"div",6)(2,"div",7)(3,"fieldset",8)(4,"legend"),e._uU(5),e.qZA(),e.TgZ(6,"div",9)(7,"input",17),e.NdJ("ngModelChange",function(n){const l=e.CHM(i).$implicit;return e.KtG(l.checked=n)}),e.qZA(),e.TgZ(8,"label",18),e._uU(9),e.ALo(10,"currency"),e.qZA(),e._UZ(11,"br"),e.qZA()()(),e.TgZ(12,"figure"),e._UZ(13,"img",19),e.qZA(),e.TgZ(14,"div",12),e._uU(15),e.qZA()()()}if(2&r){const i=o.$implicit;e.xp6(5),e.Oqu(i.title),e.xp6(2),e.Q6J("value",i.price)("ngModel",i.checked)("name",i.title),e.xp6(2),e.Oqu(e.xi3(10,8,i.price,"USD")),e.xp6(4),e.MGl("alt","",i.title," Icon"),e.Q6J("src",i.imgUrl,e.LSH),e.xp6(2),e.Oqu(i.desc)}}function _(r,o){if(1&r&&(e.TgZ(0,"div",26)(1,"div",27),e._uU(2),e.qZA(),e.TgZ(3,"div",28),e._uU(4),e.ALo(5,"currency"),e.qZA()()),2&r){const i=o.$implicit;e.xp6(2),e.hij("",i.title,":"),e.xp6(2),e.Oqu(e.lcZ(5,2,i.price))}}const T=[{path:"service",component:(()=>{var r;class o{constructor(t,n,s,l){this.menuService=t,this.router=n,this.httpClient=s,this.cookieService=l,this.lineItems=[],this.lineItemTotal=0,this.partsAmount=0,this.laborAmount=0,this.invoiceTotal=0,this.id=Math.floor(9e4*Math.random())+1e4,this.date=(new Date).toLocaleDateString(),this.products=this.menuService.getProducts(),this.order=new h,console.log("Product Listing: ",this.products);const a=this.cookieService.get("session_user");a&&(this.user=JSON.parse(a),console.log("User:",this.user))}getOrderTotal(){let t=0;for(let n of this.lineItems)t+=n.price;return console.log("Menu Items Total: ",t),t+=parseFloat(this.partsAmount.toString()),t+=parseFloat((50*this.laborAmount).toString()),console.log("Total after parts and labor: ",t),t.toFixed(2)}generateOrder(){console.log("Order",this.order),console.log("Products",this.products);for(let s of this.products)if(s.checked){const{title:l,price:a}=s;this.order.lineItems.push({title:l,price:a})}this.order.itemsTotal(),console.log("Ordered Items:",this.order.lineItems),console.log("Ordered Parts:",this.order.partsAmount),console.log("Ordered Labor:",this.order.laborAmount),console.log("Order Total:",this.order.getOrderTotal()),this.order.partsAmount=parseFloat(this.order.partsAmount.toString()),this.order.laborAmount=50*parseFloat(this.order.laborAmount.toString()),this.order.invoiceTotal=parseFloat(this.order.getOrderTotal()),console.log("Order",this.order);const t=this.cookieService.get("session_user"),n=JSON.parse(t);this.order.email=n.email,this.order.fullName=n.fullName,this.httpClient.post("/api/invoices",this.order).subscribe(s=>{console.log("Response:",s),this.router.navigate(["shop/order-summary"],{queryParams:{order:JSON.stringify(this.order)}})},s=>{console.error("Error:",s)}),this.router.navigate(["shop/order-summary"],{queryParams:{order:JSON.stringify(this.order)}})}}return(r=o).\u0275fac=function(t){return new(t||r)(e.Y36(f),e.Y36(u.F0),e.Y36(v.eN),e.Y36(m.N))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-service"]],decls:34,vars:3,consts:[[1,"container"],[3,"submit"],["orderForm","ngForm"],[1,"row","d-flex","justify-content-center","mt-5"],["class","col-lg-4 col-md-6 col-sm-12",4,"ngFor","ngForOf"],[1,"col-lg-4","col-md-6","col-sm-12"],[1,"card","shadow"],[1,"card-title"],[1,"p-3"],[1,"d-flex","justify-content-around"],["type","text","id","parts","name","parts",3,"ngModel","ngModelChange"],["src","../../../assets/service/parts.png","alt","Parts Icon",1,"img-fluid"],[1,"card-footer"],["type","text","id","labor","name","labor",3,"ngModel","ngModelChange"],["src","../../../assets/service/labor.png","alt","Labor Icon",1,"img-fluid"],[1,"d-grid","mt-5","col-8"],["type","submit","id","submit","value","Place Order",1,"btn","text-light","brown"],["type","checkbox",3,"value","ngModel","name","ngModelChange"],["for","passwordReset"],[1,"img-fluid",3,"src","alt"]],template:function(t,n){if(1&t){const s=e.EpF();e.TgZ(0,"div",0)(1,"form",1,2),e.NdJ("submit",function(){e.CHM(s);const a=e.MAs(2);return n.generateOrder(),e.KtG(a.reset())}),e.TgZ(3,"div",3),e.YNc(4,Z,16,11,"div",4),e.TgZ(5,"div",5)(6,"div",6)(7,"div",7)(8,"fieldset",8)(9,"legend"),e._uU(10,"Parts"),e.qZA(),e.TgZ(11,"div",9)(12,"input",10),e.NdJ("ngModelChange",function(a){return n.order.partsAmount=a}),e.qZA(),e._UZ(13,"br"),e.qZA()()(),e.TgZ(14,"figure"),e._UZ(15,"img",11),e.qZA(),e.TgZ(16,"div",12),e._uU(17,"Please insert any additional fees associated with parts."),e.qZA()()(),e.TgZ(18,"div",5)(19,"div",6)(20,"div",7)(21,"fieldset",8)(22,"legend"),e._uU(23,"Labor"),e.qZA(),e.TgZ(24,"div",9)(25,"input",13),e.NdJ("ngModelChange",function(a){return n.order.laborAmount=a}),e.qZA(),e._UZ(26,"br"),e.qZA()()(),e.TgZ(27,"figure"),e._UZ(28,"img",14),e.qZA(),e.TgZ(29,"div",12),e._uU(30,"Labor is $50 / Hour. Please insert how many hours needed."),e.qZA()()(),e.TgZ(31,"div",15)(32,"button",16),e._uU(33," Submit "),e.qZA()()()()()}2&t&&(e.xp6(4),e.Q6J("ngForOf",n.products),e.xp6(8),e.Q6J("ngModel",n.order.partsAmount),e.xp6(13),e.Q6J("ngModel",n.order.laborAmount))},dependencies:[p.sg,c._Y,c.Fj,c.Wl,c.JJ,c.JL,c.On,c.F,p.H9],styles:[".card[_ngcontent-%COMP%]{border-radius:15px;margin:.5rem}.card-title[_ngcontent-%COMP%]{background-color:#372e29;border-radius:15px 15px 0 0;color:#fff}.brown[_ngcontent-%COMP%]{background-color:#372e29}.card-footer[_ngcontent-%COMP%]{background-color:#ffd25f;border-radius:0 0 15px 15px}figure[_ngcontent-%COMP%]{text-align:center;min-height:100px;display:flex;justify-content:center;align-items:center}"]}),o})(),canActivate:[d(3706).p]},{path:"order-summary",component:(()=>{var r;class o{constructor(t,n,s){this.route=t,this.router=n,this.cookieService=s,this.printing=!1,this.order={};const l=this.route.snapshot.queryParamMap.get("order");this.order=null!==l?JSON.parse(l):{},(!this.order.lineItems||0===this.order.lineItems.length)&&this.router.navigate(["/"]);const a=this.cookieService.get("session_user");a&&(this.user=JSON.parse(a),console.log("User:",this.user)),console.log("Order Summary:",this.order),console.log("Order Total:",this.order.invoiceTotal)}printPage(){this.printing=!0,window.print(),this.printing=!1}}return(r=o).\u0275fac=function(t){return new(t||r)(e.Y36(u.gz),e.Y36(u.F0),e.Y36(m.N))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-order-summary"]],decls:46,vars:16,consts:[[1,"container","mt-3"],[1,"row","justify-content-center"],[1,"col-lg-6","col-md-10","col-sm-12"],[1,"card"],[1,"card-title"],[1,"m-3"],[1,"order-summary__header-date"],[1,"order-summary__header-user"],[1,"mt-3"],[2,"font-weight","600"],[1,"card-body"],["class","card-item",4,"ngFor","ngForOf"],[1,"card-parts"],[1,"card-parts-label"],[1,"card-parts-value"],[1,"card-labor"],[1,"card-labor-label"],[1,"card-labor-value"],[1,"card-footer"],[1,"row"],[1,"col"],[1,"card-footer-label"],[1,"card-footer-value"],[1,"btn","brown","text-white","hide-on-print",3,"click"],[1,"text-hp"],["routerLink","/shop/service",1,"hide-on-print"],[1,"card-item"],[1,"card-item-name"],[1,"card-item-price"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2"),e._uU(7),e.qZA(),e.TgZ(8,"div",6),e._uU(9),e.ALo(10,"date"),e.qZA(),e.TgZ(11,"div",7)(12,"p",8)(13,"span",9),e._uU(14),e.qZA(),e._UZ(15,"br"),e._uU(16),e.qZA()()()(),e.TgZ(17,"div",10),e.YNc(18,_,6,4,"div",11),e.TgZ(19,"div",12)(20,"div",13),e._uU(21,"Parts:"),e.qZA(),e.TgZ(22,"div",14),e._uU(23),e.ALo(24,"currency"),e.qZA()(),e.TgZ(25,"div",15)(26,"div",16),e._uU(27,"Labor:"),e.qZA(),e.TgZ(28,"div",17),e._uU(29),e.ALo(30,"currency"),e.qZA()()(),e.TgZ(31,"div",18)(32,"div",19)(33,"div",20)(34,"p")(35,"span",21),e._uU(36,"Order Total:"),e.qZA(),e.TgZ(37,"span",22),e._uU(38),e.ALo(39,"currency"),e.qZA()()(),e.TgZ(40,"div",20)(41,"button",23),e.NdJ("click",function(){return n.printPage()}),e.TgZ(42,"span",24),e._uU(43,"Print Page"),e.qZA()()()()()(),e.TgZ(44,"a",25),e._uU(45,"Place new order"),e.qZA()()()()),2&t&&(e.xp6(7),e.hij("Order #",n.order.id,""),e.xp6(2),e.Oqu(e.lcZ(10,8,n.order.date)),e.xp6(5),e.Oqu(n.user.fullName),e.xp6(2),e.hij("",n.user.email," "),e.xp6(2),e.Q6J("ngForOf",n.order.lineItems),e.xp6(5),e.Oqu(e.lcZ(24,10,n.order.partsAmount)),e.xp6(6),e.Oqu(e.lcZ(30,12,n.order.laborAmount)),e.xp6(9),e.Oqu(e.lcZ(39,14,n.order.invoiceTotal)))},dependencies:[p.sg,u.rH,p.H9,p.uU],styles:[".card[_ngcontent-%COMP%]{margin-top:3em;border-radius:15px}.card-title[_ngcontent-%COMP%]{background-color:#372e29;border-radius:15px 15px 0 0;color:#fff}.brown[_ngcontent-%COMP%]{background-color:#372e29}.card-footer[_ngcontent-%COMP%]{background-color:#ffd25f;border-radius:0 0 15px 15px}","@media print{.hide-on-print[_ngcontent-%COMP%]{display:none}.card[_ngcontent-%COMP%]{box-shadow:none;border:none;background-color:transparent}}"]}),o})(),title:"Order Summary page"}];let O=(()=>{var r;class o{}return(r=o).\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[u.Bz.forChild(T),u.Bz]}),o})(),S=(()=>{var r;class o{}return(r=o).\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[p.ez,u.Bz,O,c.u5,c.UX]}),o})()}}]);